<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Highlight Kanji with Furigana</title>
    <style>
        .highlight {
            background-color: yellow;
        }
    </style>
</head>

<body>
    <div class="sentence"><ruby>家<rt style="visibility: hidden;">うち</rt></ruby> <ruby>中<rt style="visibility: hidden;">
                じゅう</rt></ruby>には <ruby>大<rt style="visibility: hidden;">だい</rt></ruby> <ruby>事<rt
                style="visibility: hidden;">じ</rt></ruby>な <ruby>家<rt style="visibility: hidden;">か</rt></ruby> <ruby>宝
            <rt style="visibility: hidden;">ほう</rt>
        </ruby>が <ruby>分<rt style="visibility: hidden;">ぶん</rt></ruby>
        <ruby>布<rt style="visibility: hidden;">ぷ</rt></ruby>している。
    </div>

    <input type="text" id="kanjiInput" placeholder="Enter kanji and furigana (e.g., 家うち)">
    <button onclick="highlightKanji()">Highlight</button>

    <script>
        function highlightKanji() {
            // Get the user input
            const userInput = document.getElementById('kanjiInput').value;

            // Separate the kanji and furigana from the input
            const kanji = userInput.charAt(0);
            const furigana = userInput.slice(1);

            // Get all ruby elements
            const rubyElements = document.querySelectorAll('ruby');

            rubyElements.forEach(ruby => {
                // Find the rt (furigana) element
                const furiganaElement = ruby.querySelector('rt');

                if (furiganaElement) {
                    const rubyFurigana = furiganaElement.textContent;

                    // Check if the first child node is a text node and its value is equal to the kanji
                    if (ruby.childNodes[0].nodeType === 3 && ruby.childNodes[0].nodeValue.trim() === kanji && rubyFurigana === furigana) {
                        ruby.classList.add('highlight');
                    } else {
                        ruby.classList.remove('highlight');
                    }
                }
            });
        }
    </script>
</body>

</html>